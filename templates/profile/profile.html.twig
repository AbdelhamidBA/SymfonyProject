{% extends 'base.html.twig' %}
  
{% block title %}Hello ProfileController!{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="js/clientJS.js"></script>
{% endblock %}
{% block body %}
  <link rel="stylesheet" href="css/profile.css"/>
<div class="mainContainer">
    <div class="profil">
        <div class="personal-info">
            <img src="images/avatar.png"/>
            <div id="info">
                <h2>Personal Info</h2>
                <ul id="pinfo">
                    {% for user in userinfo %}
                        <li><i class='fas fa-user' style='color:white; padding-right: 5px'></i>{{user.fullname}}</li>
                        <li><i class='fas fa-birthday-cake' style='color:white; padding-right: 5px'></i>{{user.birthdate}}</li>
                        <li><i class='fas fa-id-card' style='color:white; padding-right: 5px'></i>{{user.identity}}</li>
                        <li><i class='fas fa-envelope' style='color:white; padding-right: 5px'></i>{{user.email}}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="tabHolder">
            <nav id="userNav">
                <a href="rent_car.php" id="rentcar">Rent a car</a>
                <a href="{{path('logout')}}" id="logout">Logout</a>
            </nav>
            <div class="tabList">
                        <p class="tabLink" id="hisLink">History</p></td>
                        <p class="tabLink" id="resLink">Reservation List</p></td>
                        <p class="tabLink" id="contactLink">Contact Us</p></td>
            </div>
            <div class="tabContent" id="history">
                <table id='historyTable' class='table table-striped table-bordered' style='width:100%'>
                <thead><tr>
                    <th> Reservation ID</th>
                    <th> Pickup Date</th>
                    <th> Return Date</th>
                    <th> Car</th>
                    <th> Status </th>
                </tr>
                </thead>
                <tbody>
                    {% for h in history  %}
                <tr>
                    <td> {{h.id}}</td>
                    <td> {{h.res_date}}</td>
                    <td> {{h.ret_date}}</td>
                    <td> {{h.carName}}</td>
                    <td> {{h.status}} </td>
                </tr>
                    {% endfor %}
                </tbody>
                </table>
            </div>
            <div class="tabContent" id="reslist">
                <table id='ResTable' class='table table-striped table-bordered' style='width:100%'>
                <thead>
                <tr>
                    <th>Reservation ID</th>
                    <th>Pickup Date</th>
                    <th>Return Date</th>
                    <th>Car</th>
                    <th>Status </th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                    {% for res in pendings %}
                        <tr>
                            <td>#{{res.id}}</td>
                            <td>{{res.res_date}}</td>
                            <td>{{res.ret_date}}</td>
                            <td>{{res.carName}}</td>
                            <td>{{res.status}} </td>
                            <td><img class='cancel' id='{{res.id}}' src='images/cancel.png'/></td>
                        </tr>
                    {% endfor %}
                </tbody>
                </table>
            </div>
            <div class="tabContent" id="contact">
                <div class="formContainer">
                    <h2>Contact Us</h2>
                    <h4>If you have any concern don't hesitate to contact us</h4>
                    <form name="contactForm" id="contactForm">
                    <table border="0">
                        <tr>
                            <td>Concern: </td>
                            <td><input type="text" id="concern" name="concern" placeholder="Concern"/></td>
                        </tr>
                        <tr>
                            <td>Description: </td>
                            <td><textarea name="description" id="description"></textarea></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><input type="submit" name="contactus" value="Send"/></td>
                        </tr>
                    </table>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}
